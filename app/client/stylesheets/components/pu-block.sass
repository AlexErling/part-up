@keyframes highlight
    0%
        background-color: $color-background
        border-color: $color-border-light
        transform: none

    100%
        background-color: rgba($color-secondary, .1)
        border-color: rgba($color-secondary, .3)
        transform: scale(1.03)

.pu-block
    border: 2px solid $color-border-light
    border-radius: 5px
    padding: $spacing-default
    margin-bottom: $spacing-default
    position: relative
    background-color: $color-background

    &:hover
        .pu-sub-editbutton
            opacity: 1
            pointer-events: auto

    .pu-sub-title
        font-size: 22px
        margin-top: -4px
        margin-bottom: 10px
        width: 100%
        overflow: hidden

        a
            color: $color-solid-black
            text-decoration: none

        .pu-chevron
            font-size: 11px
            vertical-align: middle
            color: $color-text-subtle
            transition: color $animation-duration

        &.pu-expander
            cursor: pointer
            transition: color $animation-duration

            &:hover
                color: darken($color-text, 5%)

                .pu-chevron
                    color: darken($color-text-subtle, 5%)

    .pu-paragraph
        margin-bottom: 10px
        word-wrap: break-word

    time
        display: inline-block
        margin-bottom: 10px
        line-height: 1.65em
        color: $color-text-subtle
        font-weight: bold
        font-size: 14px

    .pu-sub-editbutton
        opacity: 0
        position: absolute
        top: $spacing-default - 8px
        right: $spacing-default
        $bgc: $color-background
        background-color: rgba($bgc, .95)
        box-shadow: -24px -2px 10px -3px rgba($bgc, .95)
        pointer-events: none
        margin-top: -2px

        &:hover
            background-color: $bgc

    &.pu-state-highlight
        animation-name: highlight
        animation-duration: .3s
        animation-delay: .1s
        animation-direction: alternate
        animation-iteration-count: 2
        animation-timing-function: ease-out

    &:last-child
        margin-bottom: 0

    &-highlighted
        margin-top: $spacing-large
        margin-bottom: $spacing-large
        padding: $spacing-default $spacing-large
        border: 0
        background-color: $color-background-secondary

        .pu-input
            border-color: $color-border

            &:hover,
            &:focus,
            &:active
                border-color: darken($color-border, 20%)

    &-container
        padding: 0
        border: 0

        p
            margin-bottom: $spacing-default

        .pu-form.pu-form-contribution
            margin: 0

        .pu-button-checkbox
            color: $color-solid-gray

        .pu-checkbox:checked + .pu-button-checkbox
            color: $color-header

        &-child
            border: 2px solid $color-border-light
            border-radius: 5px
            padding: $spacing-default

            &:first-child
                border-bottom-left-radius: 0
                border-bottom-right-radius: 0
                border-bottom: 0
                padding-bottom: 10px

            &:nth-child(2)
                border-radius: 0
                border-bottom: 0
                padding-top: 10px
                padding-bottom: 10px

            &:last-child
                border-top-left-radius: 0
                border-top-right-radius: 0
                border: 2px solid $color-border-light
                border-bottom-left-radius: 5px
                border-bottom-right-radius: 5px

        &:hover
            .pu-button-checkbox
                color: $color-solid-black

            .pu-checkbox:checked + .pu-button-checkbox
                color: $color-header

    &-active
        border-color: $color-solid-gray

    &-meta
        font-size: 14px
        margin-bottom: 0

        a
            text-decoration: none

    &-activity
        padding: 0
        margin-bottom: 20px

        .pu-sub-section
            border-bottom: 2px solid $color-border-light
            padding: $spacing-narrow

            &:last-child
                border-bottom: 0

            > .pu-avatar-stack
                position: absolute
                top: $spacing-narrow
                right: $spacing-narrow

            .pu-contribution + .pu-contribution
                border-top: 2px solid $color-border-light

        .pu-label
            font-size: 14px

        .pu-sub-title
            font-size: 20px

            &:last-child
                margin-bottom: -3px

        .pu-sub-description
            margin-bottom: 5px
            margin-top: -7px
            font-size: 16px

            &:last-child
                margin-bottom: -3px

        .pu-block-meta
            margin-top: -5px
            margin-bottom: -18px
            min-height: 34px

        .pu-sub-date
            margin-right: 6px

        .pu-sub-comments
            font-size: 12px

            i
                margin-right: 4px

        &.pu-state-contributions
            .pu-sub-editbutton
                display: none

            &.pu-state-expanded
                .pu-sub-editbutton
                    display: block

                > .pu-avatar-stack
                    display: none

        &-singlecontribution
            .pu-sub-title
                font-size: 14px

        &-create
            margin-top: 0
            margin-bottom: 0
            padding-top: 20px - 1px
            padding-bottom: 20px

            &-popup
                padding-top: 40px - 1px
                padding-bottom: 40px

        &-in-startpartup-modal
            &.pu-block-active
                position: relative
                z-index: 5

        &-archived
            .pu-sub-title
                color:lighten($color-text, 50%)

    &-message
        .pu-paragraph
            margin-top: -5px
            margin-bottom: -9px

        figure
            margin-top: 20px
            margin-bottom: -4px

            .pu-image
                margin: 0
