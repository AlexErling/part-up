<template name="WidgetContribution">
    {{# if showForm }}
        <div class="pu-contribution">
            <figure class="pu-avatar pu-avatar-small"></figure>

            {{# autoForm schema=formSchema id=generateFormId class='pu-form' doc=contribution validation='submitThenKeyup' }}
                <label class="pu-formfield">
                    <span class="pu-label">{{_ 'contribution-form-hours-label' }}</span>
                    <div class="pu-sub-validations {{# if afFieldIsInvalid name='hours' }}pu-state-invalid{{/ if }}">
                        <span class="pu-sub-input">{{> afFieldInput name='hours' placeholder=placeholders.hours class='pu-input pu-input-accent' }}</span>
                        <span class="pu-sub-error">{{ afFieldMessage name='hours' }}</span>
                    </div>
                </label>

                <label class="pu-formfield">
                    <span class="pu-label">{{_ 'contribution-form-rate-label' }}</span>
                    <div class="pu-sub-validations {{# if afFieldIsInvalid name='rate' }}pu-state-invalid{{/ if }}">
                        <span class="pu-sub-input">{{> afFieldInput name='rate' placeholder=placeholders.rate class='pu-input pu-input-accent' }}</span>
                        <span class="pu-sub-error">{{ afFieldMessage name='rate' }}</span>
                    </div>
                </label>

                <div class="pu-formfield">
                    <div class="pu-formfield-left">
                        <button type="submit" class="pu-button">{{_ 'contribution-form-submit' }}</button>
                        <button type="button" class="pu-button pu-button-gray" data-contribution-close>{{_ 'contribution-form-close' }}</button>
                    </div>

                    {{# unless PLACEHOLDER }}
                        <div class="pu-formfield-right">
                            <button type="button" class="pu-button pu-button-text pu-button-text-subtle" data-contribution-remove>{{_ 'contribution-form-remove' }}</button>
                        </div>
                    {{/ unless }}
                </div>

            {{/ autoForm }}
        </div>
    {{ else }}
        {{# if PLACEHOLDER }}
            <div class="pu-contribution pu-contribution-placeholder">
                <figure class="pu-avatar pu-avatar-small"></figure>
            </div>
        {{/ if }}
    {{/ if }}
</template>
