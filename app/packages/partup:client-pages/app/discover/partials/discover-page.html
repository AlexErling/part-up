<template name="app_discover_page">
    <section class="pu-composition pu-composition-discover">

        <!-- Header -->
        <header class="pu-sub-header">
            <h2 class="pu-title">
                {{_ 'pages-app-discover-heading' }}

                {{# if countLoading }}
                    {{> Spinner type='small' }}
                {{ else }}
                    <span class="pu-sub-countlabel">
                        {{#if count}}
                            {{_ 'pages-app-discover-xpartups' count=count }}
                        {{else}}
                            {{_ 'pages-app-discover-nopartups' }}
                        {{/if}}
                    </span>
                {{/ if }}
            </h2>
        </header>

        <!-- Content (partup-tiles) -->
        <div data-infinitescroll-container>
            {{# ColumnTilesLayout instance=columnTilesLayout }}
                <div class="pu-tile">
                    {{> PartupTile }}
                </div>
            {{/ ColumnTilesLayout }}

            {{# unless endReached }}
                <div class="pu-sub-loading-infinite-scroll">
                    {{> Spinner }}
                </div>
            {{/ unless }}
        </div>

    </section>

</template>
