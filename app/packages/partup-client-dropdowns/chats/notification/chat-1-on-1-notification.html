<template name="ChatOneOnOneNotification">
    {{#let chatNotificationData=chat}}
        <li class="pu-notification pu-notification-chat pu-notification-wide
            {{#unless chatNotificationData.message}}pu-notification-viewed{{/unless}}
            {{#unless chatNotificationData.unreadCount }}pu-notification-viewed pu-notification-clicked{{/unless}}"
            data-notification="{{ _id }}"
                    >
            <a href="{{pathFor route='chats' hash=chatNotificationData._id }}">
                <figure class="pu-avatar {{#if chatNotificationData.creator.status.online}}pu-avatar-online{{else}}pu-avatar-offline{{/if}}"
                    style="background-image:url('{{ partupImageUrl id=chatNotificationData.creator.profile.image store='360x360'}}');">
                </figure>
                <article>
                    <p>{{ chatNotificationData.creator.profile.name }} {{#with chatNotificationData.unreadCount}}({{.}}){{/with}}</p>
                    {{#if chatNotificationData.message }}
                        <span><span>{{{ formatted chatNotificationData.message.content }}}</span> <time>{{ partupDateCustom chatNotificationData.message.created_at 'dd D MMMM - HH:mm' }}</time></span>
                    {{else}}
                        <span><span>{{_ 'pages-one-on-one-chat-sidebar-message-placeholder'}}</span> <time>{{ partupDateCustom chatNotificationData.created_at 'dd D MMMM - HH:mm' }}</time></span>
                    {{/if}}
                </article>
            </a>
        </li>
    {{/let}}
</template>
