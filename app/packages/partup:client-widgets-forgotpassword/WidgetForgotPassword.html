<template name="WidgetForgotPassword">
    <div class="pu-composition pu-composition-defaultmodal pu-composition-forgotpassword">
        {{#unless resetSentSuccessful }}
            <h2 class="pu-title pu-title-modal">{{_ 'forgotpassword-heading' }}</h2>
            <p>{{_ 'forgotpassword-paragraph'}}</p>

            {{#autoForm schema=formSchema id="forgotPasswordForm" class="pu-form" validation="blur" }}

                <!-- Email -->
                <label class="pu-formfield {{#if afFieldIsInvalid name='email'}}pu-formfield-invalid{{/if}}">
                    <span class="pu-label">{{_ 'forgotpassword-form-email-label'}}</span>
                    <div class="pu-sub-validations {{#if afFieldIsInvalid name='email' }}pu-state-invalid{{/if}}">
                        <span class="pu-sub-input">{{> afFieldInput name='email' placeholder=placeholders.email class="pu-input" }}</span>
                        <span class="pu-sub-error">{{ afFieldMessage name='email' }}</span>
                    </div>
                </label>

                <!-- Submit form button -->
                <footer>
                    <input class="pu-button pu-button-primary" type="submit" value="{{_ 'forgotpassword-form-submit'}}">
                </footer>
            {{/autoForm}}
            <p class="pu-paragraph pu-paragraph-subtle"><a href="{{pathFor 'login'}}">{{_ 'forgotpassword-backtologin'}}</a></p>
        {{ else }}
            <h2 class="pu-title pu-title-modal">{{_ 'forgotpassword-instructionssent-heading' }}</h2>
            <p>{{_ 'forgotpassword-instructionssent-paragraph'}}</p>
            <p><a href="{{pathFor 'login'}}" class="pu-button">{{_ 'forgotpassword-instructionssent-backtologin'}}</a></p>
        {{/unless}}
    </div>
</template>