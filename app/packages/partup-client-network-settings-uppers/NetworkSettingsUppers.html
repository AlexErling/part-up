<template name="NetworkSettingsUppers">
    <div class="pu-composition pu-composition-defaultmodal pu-composition-networksettings-uppers">
        <h2 class="pu-title pu-title-modal">{{_ 'network-settings-uppers-title' }}</h2>
        <p class="pu-description-modal">{{_ 'network-settings-uppers-paragraph' }}</p>

        {{# if data.network.uppers }}

        <a class="pu-button pu-button-text pu-button-no-side-padding" target="_blank" href="/csv/tribe/uppers?token={{getToken}}&id={{data.network._id}}">{{_ 'network-settings-uppers-button-csv-export' }}</a>

        {{> SearchInput inputSettings=form.searchInput}}


        <ul class="pu-list pu-list-lineseparated">
            {{# each data.uppers }}
                <li>
                    <figure class="pu-avatar" style="background-image: url('{{ partupImageUrl id=profile.image }}');" data-hovercontainer="HoverContainer_upper" data-hovercontainer-context="{{ _id }}"></figure>
                    <p class="pu-sub-upperinfo">
                        <a href="{{ pathFor 'profile' _id=_id }}" class="pu-sub-name" data-hovercontainer="HoverContainer_upper" data-hovercontainer-context="{{ _id }}">{{ profile.name }}</a>
                        <span class="pu-sub-mail">{{ email }}</span>
                        {{#if isNetworkAdmin }}<span class="pu-sub-status">{{_ 'network-settings-uppers-label-admin'}}</span>{{/if}}
                        {{#if isNetworkColleague }}<span class="pu-sub-status">{{_ 'network-settings-uppers-label-colleague'}}</span>{{/if}}
                        {{#if isNetworkColleagueCustomA }}<span class="pu-sub-status">{{_ 'network-settings-uppers-label-colleague-custom-a'}}</span>{{/if}}
                        {{#if isNetworkColleagueCustomB }}<span class="pu-sub-status">{{_ 'network-settings-uppers-label-colleague-custom-b'}}</span>{{/if}}
                    </p>
                    <button type="button" class="pu-sub-settings pu-button pu-button-checkmark" data-toggle><i class="picon-cog"></i></button>
                    <div class="pu-uppersettings" data-toggle-target>
                        <ul class="pu-list">
                            {{#unless isNetworkColleague}}
                            {{#unless isNetworkColleagueCustomA}}
                            {{#unless isNetworkColleagueCustomB}}
                                {{#if isNetworkAdmin }}
                                    <li class="pu-dropdownitem pu-dropdownitem-small  pu-sub-delete">
                                            <button data-remove-admin>{{_ 'network-settings-uppers-button-remove-admin'}}</button>
                                    </li>
                                {{else}}
                                    <li class="pu-dropdownitem pu-dropdownitem-small">
                                        <button data-make-admin>{{_ 'network-settings-uppers-button-add-admin'}}</button>
                                    </li>
                                {{/if}}
                            {{/unless}}
                            {{/unless}}
                            {{/unless}}

                            {{#unless isNetworkAdmin}}
                            {{#unless isNetworkColleagueCustomA}}
                            {{#unless isNetworkColleagueCustomB}}
                                {{#if isNetworkColleague }}
                                    <li class="pu-dropdownitem pu-dropdownitem-small  pu-sub-delete">
                                        <button data-remove-colleague>{{_ 'network-settings-uppers-button-remove-colleague'}}</button>
                                    </li>
                                {{else}}
                                    <li class="pu-dropdownitem pu-dropdownitem-small">
                                        <button data-make-colleague>{{_ 'network-settings-uppers-button-add-colleague'}}</button>
                                    </li>
                                {{/if}}
                            {{/unless}}
                            {{/unless}}
                            {{/unless}}


                            {{#unless isNetworkAdmin}}
                            {{#unless isNetworkColleague}}
                            {{#unless isNetworkColleagueCustomB}}
                                {{#if isNetworkColleagueCustomA }}
                                    <li class="pu-dropdownitem pu-dropdownitem-small  pu-sub-delete">
                                        <button data-remove-colleague-custom-a>{{_ 'network-settings-uppers-button-remove-colleague-custom-a'}}</button>
                                    </li>
                                {{else}}
                                    <li class="pu-dropdownitem pu-dropdownitem-small">
                                        <button data-make-colleague-custom-a>{{_ 'network-settings-uppers-button-add-colleague-custom-a'}}</button>
                                    </li>
                                {{/if}}
                            {{/unless}}
                            {{/unless}}
                            {{/unless}}

                            {{#unless isNetworkAdmin}}
                            {{#unless isNetworkColleague}}
                            {{#unless isNetworkColleagueCustomA}}
                                {{#if isNetworkColleagueCustomB }}
                                    <li class="pu-dropdownitem pu-dropdownitem-small  pu-sub-delete">
                                        <button data-remove-colleague-custom-b>{{_ 'network-settings-uppers-button-remove-colleague-custom-b'}}</button>
                                    </li>
                                {{else}}
                                    <li class="pu-dropdownitem pu-dropdownitem-small">
                                        <button data-make-colleague-custom-b>{{_ 'network-settings-uppers-button-add-colleague-custom-b'}}</button>
                                    </li>
                                {{/if}}
                            {{/unless}}
                            {{/unless}}
                            {{/unless}}
                            <li class="pu-dropdownitem pu-dropdownitem-small pu-sub-delete">
                                <button data-delete>{{_ 'network-settings-uppers-button-remove-user'}}</button>
                            </li>
                        </ul>
                    </div>
                </li>
            {{/ each }}
        </ul>
        {{ else }}
        <ul class="pu-network-uppers"><li><p>{{_ 'network-settings-uppers-nouppers' }}</p></li></ul>
        {{/ if }}
    </div>
</template>
