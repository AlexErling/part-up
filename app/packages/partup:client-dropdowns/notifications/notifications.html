<template name="DropdownNotifications">
    <button class="pu-button pu-button-header pu-button-header-desktop pu-button-header-nostripe" data-toggle-menu="notifications">
        <!-- bell icon -->
        {{#if totalNewNotifications.count }}
            <span class="pu-badge">
                <i class="fa fa-bell"></i>
                <span>{{ totalNewNotifications.count }}</span>
            </span>
        {{else}}
            <i class="fa fa-bell"></i>
        {{/if}}

        {{ label }}
    </button>
    <div class="pu-dropdown pu-dropdown-notifications {{#if menuOpen}}pu-dropdown-active{{/if}} pu-dropdown-notifications-nobutton" data-clickoutside-close>
        <ul>
            {{#each notifications}}
                <li class="pu-notification {{#unless new}}pu-notification-viewed{{/unless}} {{#if clicked}}pu-notification-clicked{{/if}}" data-notification="{{ _id }}">
                    {{> Notification notification=.}}
                </li>
            {{else}}
                <li class="pu-notification pu-notification-empty">
                    <p>{{_ 'dropdowns-notifications-placeholder-nonotifications'}}</p>
                </li>
            {{/each}}
        </ul>
        {{#if false}}
            <footer>
                <a href="#">{{_ 'dropdowns-notifications-button-managenotifications'}}</a>
            </footer>
        {{/if}}
    </div>
</template>
