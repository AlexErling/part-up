<template name="DropdownChatNotifications">
    <button class="pu-button pu-button-header pu-button-header-desktop pu-button-header-nostripe" data-toggle-menu="chat-notifications">
        <!-- bell icon -->
        <i class="picon-chat pu-badge {{#unless data.allMessagesAreSeen chats }}pu-badge-active{{/unless}}"></i>

        {{ label }}
    </button>
    <div class="pu-dropdown pu-dropdown-notifications {{#if menuOpen}}pu-dropdown-active{{/if}} pu-dropdown-notifications-nobutton" data-clickoutside-close>
        <ul data-preventscroll>
            {{#each data.chats}}
                <li class="pu-notification {{#if messagesHaveBeenSeen }}pu-notification-viewed{{/if}} {{#if messagesHaveBeenRead}}pu-notification-clicked{{/if}}" data-notification="{{ _id }}">
                    {{> ChatNotification chat=. }}
                </li>
            {{else}}
                <li class="pu-notification pu-notification-empty">
                    <p>{{_ 'dropdowns-chat-notifications-placeholder-nonotifications'}}</p>
                </li>
            {{/each}}
            {{#if notifications.canLoadMore}}
                <li class="pu-sub-loadmore">
                    <a href="#" class="pu-button pu-button-grey" data-loadmore>{{_ 'dropdowns-chat-notifications-button-loadmore'}}</a>
                </li>
            {{/if}}
        </ul>
    </div>
</template>
